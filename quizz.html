<!DOCTYPE html>
<html>
<head>
    <title>Quiz Game</title>
</head>
<body>
    <h1 class="main-title">Quiz Game</h1>

    <!-- Player name form -->
    <div class="over-content">
        <img src="quiz.jpg" alt="QuestionMark"  width="200px" height="200px">
        <div class="main-content">
            <p>Bitte geben sie ihr Name ein:</p>
            <input type="text" id="playerName" />
            <button id="buttoncolor" onclick="startQuiz()">Start Quiz</button>
        </div> 
        
        <div id="quizSection" style="display: none;">
            <h2>Fragen:</h2>
            <p id="questionText"></p>
            <button id="Ja"onclick="answerQuestion(true)">Ja</button>
            <button id="Nein" onclick="answerQuestion(false)">Nein</button>
            <button id="9" onclick="answerQuestion(true)">9</button>
            <button id="12" onclick="answerQuestion(false)">12</button>
        </div>
    
    
    </div>

    <!-- JavaScript code -->
    <script>
        let playerName;
        let quizSection = document.getElementById('quizSection');
        let questionText = document.getElementById('questionText');
        let questions = [
            ["Ist es gerade Sommer?", true],
            ["Scheint die Sonne draußen?", false],
            ["1+1=3, stimmt das?", false],
            ["Österreich hat mehr als 10 Millionen Einwohner.", false],
            ["Österreich und Deutschland sind Nachbarländer.", true],
            ["Wie viele Bundesländern hat Österreich?", true],
            ["Wir befinden uns gerade im Kurs.", true]
        ];
        let currentQuestionIndex = 0;
        let correctAnswersCount = 0;

        function askQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }

            let question = questions[currentQuestionIndex][0];
            questionText.textContent = question;
            quizSection.style.display = 'block';
        }

        function answerQuestion(userAnswerBool) {
            if(currentQuestionIndex == 4){
                document.getElementById("9").style.display = "inline"
                document.getElementById("12").style.display = "inline"
                document.getElementById("Ja").style.display = "none"
                document.getElementById("Nein").style.display = "none"

            } else {
                document.getElementById("9").style.display = "none"
                document.getElementById("12").style.display = "none"
                document.getElementById("Ja").style.display = "inline"
                document.getElementById("Nein").style.display = "inline"
                
            }
            
            let correctAnswer = questions[currentQuestionIndex][1];
            if (userAnswerBool === correctAnswer) {
                alert('Richtig!');
                correctAnswersCount++;
            } else {
                alert(`Falsch. Richtige Antwort: ${correctAnswer ? "Ja" : "Nein"}`);
            }

            currentQuestionIndex++;
            askQuestion();
        }

        function showResult() {
            let totalQuestions = questions.length;
            console.log(questions);
            let percentageCorrect = (correctAnswersCount / totalQuestions) * 100 
            let resultMessage;
            if (percentageCorrect >= 50){
                resultMessage = `Gratuliere, ${playerName}, sie haben Prüfung bestanden mit ${percentageCorrect.toFixed(2)}% .`;
            } else{
                resultMessage = `Sie müssen noch lernen, ${playerName}. Ihr score ist ${percentageCorrect.toFixed(2)}%.`;  
            }

            alert(resultMessage);
        }

        function startQuiz() {
            document.getElementById("9").style.display = "none"
            document.getElementById("12").style.display = "none"
            document.getElementById("buttoncolor").style.backgroundColor= 'yellow'
            playerName = document.getElementById('playerName').value;
            if (!playerName) {
                alert('Bitte geben Sie ihr Name ein.');
            } else {
                alert(`Sie werden als ${playerName} eingeloggt.\nLog in erfolgreich.`);
                askQuestion();
            }
        }
        
    </script>
</body>
<style>
.main-title{
    background-color: aquamarine;
    height: 40px;  
    margin: 0;   
}

body{
    background-color: rgb(207, 150, 150);
    text-align: center;
    margin: 0;
}

.over-content{
    display: flex;
    justify-content: center;
    align-items: center;
    height:calc(100vh - 40px);
    margin: 0;
    flex-direction: column

}

.main-content{
    background-color: rgb(69, 211, 211);
    width: 50%;
    height: 200px;
    justify-content: center;
    display: flex;
    flex-direction: column;
    transition: background-color 0.1s;
}
.main-content:hover {
    background-color: rgb(253, 209, 127)
}

.main-content button{
    width: 200px;
    margin-left: auto;
    margin-right: auto;
}
.main-content input{
    width: 192px;
    margin: 0 auto;
}
img{
    margin-bottom: 40px;
    animation: rotateImage 5s linear infinite;
}
@keyframes rotateImage {
    from {
        transform: rotate(0deg);
    }
    to{
        transform: rotate(360deg);
    
    }
}
</style>
</html>